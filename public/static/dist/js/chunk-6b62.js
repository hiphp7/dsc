(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b62"],{"0653":function(e,t,_){"use strict";_("68ef")},1146:function(e,t,_){},"27ae":function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(e,t){module.exports=t(e)})("undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:this,function(global){"use strict";var _Base64=global.Base64,version="2.4.9",buffer;if("undefined"!==typeof module&&module.exports)try{buffer=eval("require('buffer').Buffer")}catch(e){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},_=0,n=e.length;_<n;_++)t[e.charAt(_)]=_;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)}t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],_=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),n=[b64chars.charAt(_>>>18),b64chars.charAt(_>>>12&63),t>=2?"=":b64chars.charAt(_>>>6&63),t>=1?"=":b64chars.charAt(63&_)];return n.join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e)).toString("base64")}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e)).toString("base64")}:function(e){return btoa(utob(e))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):_encode(String(e))},encodeURI=function(e){return encode(e,!0)},re_btou=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),cb_btou=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),_=t-65536;return fromCharCode(55296+(_>>>10))+fromCharCode(56320+(1023&_));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,_=t%4,n=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),r=[fromCharCode(n>>>16),fromCharCode(n>>>8&255),fromCharCode(255&n)];return r.length-=[0,0,2,1][_],r.join("")},atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/[\s\S]{1,4}/g,cb_decode)},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"===typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(e){return encode(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}}return global["Meteor"]&&(Base64=global.Base64),"undefined"!==typeof module&&module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}})}).call(this,__webpack_require__("c8ba"))},"4d48":function(e,t,_){"use strict";_("68ef"),_("bf60")},"565f":function(e,t,_){"use strict";var n=_("c31d"),r=_("fe7e"),a=_("a142");t["a"]=Object(r["a"])({render:function(){var e,t=this,_=t.$createElement,n=t._self._c||_;return n("cell",{class:t.b((e={error:t.error,disabled:t.$attrs.disabled,"min-height":"textarea"===t.type&&!t.autosize},e["label-"+t.labelAlign]=t.labelAlign,e)),attrs:{icon:t.leftIcon,title:t.label,center:t.center,border:t.border,"is-link":t.isLink,required:t.required}},[t._t("left-icon",null,{slot:"icon"}),t._t("label",null,{slot:"title"}),n("div",{class:t.b("body")},["textarea"===t.type?n("textarea",t._g(t._b({ref:"input",class:t.b("control",t.inputAlign),attrs:{readonly:t.readonly},domProps:{value:t.value}},"textarea",t.$attrs,!1),t.listeners)):n("input",t._g(t._b({ref:"input",class:t.b("control",t.inputAlign),attrs:{type:t.type,readonly:t.readonly},domProps:{value:t.value}},"input",t.$attrs,!1),t.listeners)),t.showClear?n("icon",{class:t.b("clear"),attrs:{name:"clear"},on:{touchstart:function(e){return e.preventDefault(),t.onClear(e)}}}):t._e(),t.$slots.icon||t.icon?n("div",{class:t.b("icon"),on:{click:t.onClickIcon}},[t._t("icon",[n("icon",{attrs:{name:t.icon}})])],2):t._e(),t.$slots.button?n("div",{class:t.b("button")},[t._t("button")],2):t._e()],1),t.errorMessage?n("div",{class:t.b("error-message"),domProps:{textContent:t._s(t.errorMessage)}}):t._e()],2)},name:"field",inheritAttrs:!1,props:{value:[String,Number],icon:String,label:String,error:Boolean,center:Boolean,isLink:Boolean,leftIcon:String,readonly:Boolean,required:Boolean,clearable:Boolean,labelAlign:String,inputAlign:String,onIconClick:Function,autosize:[Boolean,Object],errorMessage:String,type:{type:String,default:"text"},border:{type:Boolean,default:!0}},data:function(){return{focused:!1}},watch:{value:function(){this.$nextTick(this.adjustSize)}},mounted:function(){this.format(),this.$nextTick(this.adjustSize)},computed:{showClear:function(){return this.clearable&&this.focused&&""!==this.value&&this.isDef(this.value)&&!this.readonly},listeners:function(){return Object(n["a"])({},this.$listeners,{input:this.onInput,keypress:this.onKeypress,focus:this.onFocus,blur:this.onBlur})}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},format:function(e){void 0===e&&(e=this.$refs.input);var t=e,_=t.value,n=this.$attrs.maxlength;return this.isDef(n)&&_.length>n&&(_=_.slice(0,n),e.value=_),_},onInput:function(e){this.$emit("input",this.format(e.target))},onFocus:function(e){this.focused=!0,this.$emit("focus",e),this.readonly&&this.blur()},onBlur:function(e){this.focused=!1,this.$emit("blur",e)},onClickIcon:function(){this.$emit("click-icon"),this.onIconClick&&this.onIconClick()},onClear:function(){this.$emit("input",""),this.$emit("clear")},onKeypress:function(e){if("number"===this.type){var t=e.keyCode,_=-1===String(this.value).indexOf("."),n=t>=48&&t<=57||46===t&&_||45===t;n||e.preventDefault()}"search"===this.type&&13===e.keyCode&&this.blur(),this.$emit("keypress",e)},adjustSize:function(){var e=this.$refs.input;if("textarea"===this.type&&this.autosize&&e){e.style.height="auto";var t=e.scrollHeight;if(Object(a["d"])(this.autosize)){var _=this.autosize,n=_.maxHeight,r=_.minHeight;n&&(t=Math.min(t,n)),r&&(t=Math.max(t,r))}t&&(e.style.height=t+"px")}}}})},"66b9":function(e,t,_){"use strict";_("68ef")},"7b0a":function(e,t,_){},"81e6":function(e,t,_){"use strict";_("68ef"),_("7b0a")},"8a58":function(e,t,_){"use strict";_("68ef"),_("4d75")},"9ffb":function(e,t,_){"use strict";var n=_("fe7e");t["a"]=Object(n["a"])({render:function(){var e,t=this,_=t.$createElement,n=t._self._c||_;return n(t.tag,{tag:"component",class:t.b((e={},e[t.span]=t.span,e["offset-"+t.offset]=t.offset,e)),style:t.style},[t._t("default")],2)},name:"col",props:{span:[Number,String],offset:[Number,String],tag:{type:String,default:"div"}},computed:{gutter:function(){return this.$parent&&Number(this.$parent.gutter)||0},style:function(){var e=this.gutter/2+"px";return this.gutter?{paddingLeft:e,paddingRight:e}:{}}}})},b9aa:function(e,t,_){"use strict";_.r(t);var n=function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("div",[_("van-cell-group",[_("van-field",{attrs:{required:"",clearable:"",type:"tel",maxlength:"11",label:e.$t("lang.phone_number"),placeholder:e.$t("lang.enter_mobile")},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}}),e.captcha?_("van-field",{attrs:{type:"tel",required:"",center:"",clearable:"",label:e.$t("lang.pic_code"),maxlength:"4",placeholder:e.$t("lang.captcha_img")},model:{value:e.imgverifyValue,callback:function(t){e.imgverifyValue=t},expression:"imgverifyValue"}},[_("span",{staticClass:"code-box",attrs:{slot:"button"},on:{click:e.clickCaptcha},slot:"button"},[_("img",{attrs:{src:e.captcha}})])]):e._e(),_("van-field",{attrs:{required:"",center:"",clearable:"",type:"tel",label:e.$t("lang.sms_code"),placeholder:e.$t("lang.get_sms_code"),maxlength:"6"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}},[e.button_type?[_("van-button",{attrs:{slot:"button",size:"small",type:"primary"},on:{click:e.sendVerifyCode},slot:"button"},[e._v(e._s(e.$t("lang.send_sms_code")))])]:[_("van-button",{attrs:{slot:"button",size:"small"},slot:"button"},[e._v(e._s(e.button_text))])]],2)],1),_("van-row",{staticStyle:{margin:"15px 0"},attrs:{type:"flex",justify:"center"}},[_("van-col",{attrs:{span:"22"}},[_("van-button",{attrs:{type:"primary",size:"large"},on:{click:e.register}},[e._v(e._s(e.$t("lang.confirm")))])],1)],1)],1)},r=[],a=_("c662"),o=a["a"],i=(_("c754"),_("2877")),s=Object(i["a"])(o,n,r,!1,null,null,null);s.options.__file="Callback.vue";t["default"]=s.exports},be7f:function(e,t,_){"use strict";_("68ef"),_("1146")},bf60:function(e,t,_){},c574:function(e,t,_){},c662:function(module,__webpack_exports__,__webpack_require__){"use strict";var vant_es_toast_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("e7e5"),vant_es_toast__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("d399"),E_laragon_www_dscmall_resources_client_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_builtin_es6_defineProperty__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("88d8"),vant_es_popup_style__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("8a58"),vant_es_popup__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("e41f"),vant_es_field_style__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("be7f"),vant_es_field__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("565f"),vant_es_cell_group_style__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("0653"),vant_es_cell_group__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("34e9"),vant_es_button_style__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("66b9"),vant_es_button__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("b650"),vant_es_col_style__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("81e6"),vant_es_col__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("9ffb"),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("7f7f"),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_13__),vant_es_row_style__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("4d48"),vant_es_row__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("d1e1"),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("cadf"),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_16__),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("551c"),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_17__),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("097d"),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_18__),js_base64__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("27ae"),js_base64__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(js_base64__WEBPACK_IMPORTED_MODULE_19__),_components;window.API_URL=window.API_URL||"/api/v4",__webpack_exports__["a"]={name:"callback",data:function(){return{mobile:"",code:"",token:"",isLoading:!1,imgverifyValue:"",type:"",unionid:"",button_text:this.$t("lang.send_again_60"),button_type:!0,target_url:""}},components:(_components={},Object(E_laragon_www_dscmall_resources_client_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_builtin_es6_defineProperty__WEBPACK_IMPORTED_MODULE_2__["a"])(_components,vant_es_row__WEBPACK_IMPORTED_MODULE_15__["a"].name,vant_es_row__WEBPACK_IMPORTED_MODULE_15__["a"]),Object(E_laragon_www_dscmall_resources_client_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_builtin_es6_defineProperty__WEBPACK_IMPORTED_MODULE_2__["a"])(_components,vant_es_col__WEBPACK_IMPORTED_MODULE_12__["a"].name,vant_es_col__WEBPACK_IMPORTED_MODULE_12__["a"]),Object(E_laragon_www_dscmall_resources_client_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_builtin_es6_defineProperty__WEBPACK_IMPORTED_MODULE_2__["a"])(_components,vant_es_button__WEBPACK_IMPORTED_MODULE_10__["a"].name,vant_es_button__WEBPACK_IMPORTED_MODULE_10__["a"]),Object(E_laragon_www_dscmall_resources_client_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_builtin_es6_defineProperty__WEBPACK_IMPORTED_MODULE_2__["a"])(_components,vant_es_cell_group__WEBPACK_IMPORTED_MODULE_8__["a"].name,vant_es_cell_group__WEBPACK_IMPORTED_MODULE_8__["a"]),Object(E_laragon_www_dscmall_resources_client_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_builtin_es6_defineProperty__WEBPACK_IMPORTED_MODULE_2__["a"])(_components,vant_es_field__WEBPACK_IMPORTED_MODULE_6__["a"].name,vant_es_field__WEBPACK_IMPORTED_MODULE_6__["a"]),Object(E_laragon_www_dscmall_resources_client_node_modules_vue_babel_preset_app_node_modules_babel_runtime_helpers_builtin_es6_defineProperty__WEBPACK_IMPORTED_MODULE_2__["a"])(_components,vant_es_popup__WEBPACK_IMPORTED_MODULE_4__["a"].name,vant_es_popup__WEBPACK_IMPORTED_MODULE_4__["a"]),_components),computed:{captcha:function(){return this.$store.state.imgVerify.captcha},client:function(){return this.$store.state.imgVerify.client}},created:function(){var e=this;e.isLoading=!0,e.fetchData().then(function(){e.isLoading=!1}),e.$store.dispatch("setImgVerify")},methods:{fetchData:function fetchData(){var self=this,params=self.$route.query;if(!params.parent_id){var parent_id=localStorage.getItem("parent_id")?localStorage.getItem("parent_id"):null;null!==parent_id&&eval("params.parent_id='"+parent_id+"'")}return self.$http.get(window.API_URL+"/oauth/callback",{params:params}).then(function(e){var t=e.data;self.target_url=js_base64__WEBPACK_IMPORTED_MODULE_19__["Base64"].decode(t.data.url),"failed"===t.status&&(vant_es_toast__WEBPACK_IMPORTED_MODULE_1__["a"].fail({duration:1e3,message:self.$t("lang.authorization_fail_notic")}),setTimeout(function(){self.$router.push({name:"login"})},1e3)),1===t.data.login?(localStorage.setItem("token",t.data.token),window.location.href=self.target_url):(self.type=t.data.type,self.unionid=t.data.unionid)})},sendVerifyCode:function(){var e=this,t=this,_={captcha:t.imgverifyValue,client:t.client,mobile:t.mobile};t.$store.dispatch("setSendVerify",_).then(function(_){if("success"!=_)return vant_es_toast__WEBPACK_IMPORTED_MODULE_1__["a"].fail({duration:1e3,message:_.errors.message}),t.button_type=!0,t.clickCaptcha(),!1;t.button_type=!1;var n=60,r=setInterval(function(){n--,n?t.button_text=t.$t("lang.send_again")+"("+n+"s)":(e.button_type=!0,clearInterval(r))},1e3)})},register:function(){var e=this,t=localStorage.getItem("parent_id")?localStorage.getItem("parent_id"):this.$route.query.parent_id?this.$route.query.parent_id:null,_={client:e.client,mobile:e.mobile,code:e.code,type:e.type,unionid:e.unionid,parent_id:t};return e.checkMobile()?""==e.client?(Object(vant_es_toast__WEBPACK_IMPORTED_MODULE_1__["a"])(e.$t("lang.captcha_img")),!1):""==e.code?(Object(vant_es_toast__WEBPACK_IMPORTED_MODULE_1__["a"])(e.$t("lang.get_sms_code_notic")),!1):void e.$store.dispatch("userRegister",_).then(function(t){"success"==t.status?(e.$store.dispatch("userFastLogin",{token:t.data,status:t.status}),window.location.href=e.target_url):Object(vant_es_toast__WEBPACK_IMPORTED_MODULE_1__["a"])(t.errors.message)}):(Object(vant_es_toast__WEBPACK_IMPORTED_MODULE_1__["a"])(e.$t("lang.phone_number_format")),!1)},clickCaptcha:function(){this.$store.dispatch("setImgVerify")},checkMobile:function(){var e=/^((13|14|15|16|17|18|19)[0-9]{1}\d{8})$/;return!!e.test(this.mobile)}},watch:{isLoading:function(){var e=this;e.isLoading?vant_es_toast__WEBPACK_IMPORTED_MODULE_1__["a"].loading({mask:!0,message:e.$t("lang.loading")}):vant_es_toast__WEBPACK_IMPORTED_MODULE_1__["a"].clear()}}}},c754:function(e,t,_){"use strict";var n=_("c574"),r=_.n(n);r.a},d1e1:function(e,t,_){"use strict";var n=_("fe7e");t["a"]=Object(n["a"])({render:function(){var e,t=this,_=t.$createElement,n=t._self._c||_;return n(t.tag,{tag:"component",class:t.b((e={flex:t.flex},e["align-"+t.align]=t.flex&&t.align,e["justify-"+t.justify]=t.flex&&t.justify,e)),style:t.style},[t._t("default")],2)},name:"row",props:{type:String,align:String,justify:String,tag:{type:String,default:"div"},gutter:{type:[Number,String],default:0}},computed:{flex:function(){return"flex"===this.type},style:function(){var e="-"+Number(this.gutter)/2+"px";return this.gutter?{marginLeft:e,marginRight:e}:{}}}})},e41f:function(e,t,_){"use strict";var n=_("fe7e"),r=_("6605");t["a"]=Object(n["a"])({render:function(){var e,t=this,_=t.$createElement,n=t._self._c||_;return n("transition",{attrs:{name:t.currentTransition}},[t.shouldRender?n("div",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],class:t.b((e={},e[t.position]=t.position,e))},[t._t("default")],2):t._e()])},name:"popup",mixins:[r["a"]],props:{transition:String,overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},position:{type:String,default:""}},computed:{currentTransition:function(){return this.transition||(""===this.position?"van-fade":"popup-slide-"+this.position)}}})}}]);